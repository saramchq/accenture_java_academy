<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Desafio Merge Arrays</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
</head>

<body class="vh-100 d-flex">
    <p class="m-auto" id="result"></p>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO"
        crossorigin="anonymous"></script>

    <script>
        const player1 = [
            { name: "Sara", id: 1 },
            { name: "Sana", id: 2 },
            { name: "Cap", id: 3 }
        ];

        const player2 = [
            { name: "Sara", id: 1 },
            { name: "Kes", id: 5 }
        ];

        const player3 = [
            { name: "Biel", id: 6 },
            { name: "Sara", id: 1 },
            { name: "Babu", id: 8 }
        ];

        /*******************************************************************************
         *
         *       Desafio: Apresentar no elemento <p> os nomes ordenados e sem repetição
         *
         ******************************************************************************/
        // 1 Juntar os três arrays num só
        // 2 Transformar os objetos em apenas os nomes (strings)
        // 3 Usar Set para remover nomes duplicados
        // 4 Converter o Set de volta para array
        // 5 Ordenar alfabeticamente os nomes
        // 6 Add Logic


        document.addEventListener("DOMContentLoaded", (event) => {
            resolveSet();
        });

        function resolveSet() {
            //1.
            const merged = [...player1, ...player2, ...player3]; // os 3 pontos ... são um operador de propagação chamado spread e ele junta os elementos todos num array

            //2.
            const names = merged.map(el => el.name) //o el é uma variável temporária criasda pelo map e representa cada elemento do array durante a iteração
            console.log("They are:", names);

            //forma geral do map:

            //array.map(function(elemento) {
            // return algumaCoisaCom(elemento);
            // });

            //OU

            // array.map(el => el.name);

            //3.
            const uniqueNames = new Set(names);
            console.log("Unique names with Set: ", uniqueNames);

            //4
            const uniqueNamesArray = [...uniqueNames];
            console.log("Unique names Array: ", uniqueNamesArray);

            //5
            const sortedNames = uniqueNamesArray.sort();
            console.log("Names sorted alphabetically: ", sortedNames);

            //6
            document.getElementById('result').innerText = sortedNames.join(", "); // o join transforma um array numa string e junta os elementos com um separador a minha escolha, no caso aqui foi o espaço
        }
    </script>
</body>

</html>